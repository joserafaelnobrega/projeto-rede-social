CREATE TABLE `tb_tag_chat` (
  `TCH_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TCH_NOME` varchar(30) NOT NULL,
  PRIMARY KEY (`TCH_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `tb_sexo` (
  `SEX_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `SEX_SIGLA` char(1) NOT NULL,
  PRIMARY KEY (`SEX_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_rank` (
  `RAN_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `RAN_USUARIO_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`RAN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `tb_tema_usuario` (
  `TEU_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TEU_TEMA` varchar(30) NOT NULL,
  PRIMARY KEY (`TEU_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_tema_chat` (
  `TEC_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TEC_AVALIACAO` tinyint(3) unsigned zerofill DEFAULT NULL,
  `TEC_RANKING` int(10) unsigned NOT NULL,
  `TEC_DESCRICAO` text NOT NULL,
  PRIMARY KEY (`TEC_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_tag_usuario` (
  `TAU_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TAU_FAVORITO` varchar(30) NOT NULL,
  `TAU_MENOS_FAVO` varchar(30) NOT NULL,
  `TAU_NEGATIVA` varchar(30) NOT NULL,
  `TAU_POSITIVA` varchar(30) NOT NULL,
  PRIMARY KEY (`TAU_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `tb_chat` (
  `CHA_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `CHA_NOME` varchar(20) NOT NULL,
  `CHA_DESCRICAO` text,
  `CHA_TEXTO` text,
  PRIMARY KEY (`CHA_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_categoria` (
  `CAT_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `CAT_NOME` varchar(40) NOT NULL,
  PRIMARY KEY (`CAT_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_penalidade` (
  `PEN_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `PEN_TEMPO` int(10) unsigned zerofill DEFAULT NULL,
  `PEN_NIVEL` int(10) unsigned zerofill DEFAULT NULL,
  `PEN_CONTADOR` int(10) unsigned zerofill DEFAULT NULL,
  `PEN_RESETE` datetime DEFAULT NULL,
  PRIMARY KEY (`PEN_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_tag` (
  `TAG_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TAG_TCH_ID` int(10) unsigned NOT NULL,
  `TAG_TAU_ID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`TAG_ID`),
  KEY `FK_TAU_TAG` (`TAG_TAU_ID`),
  KEY `FK_TCH_TAG` (`TAG_TCH_ID`),
  CONSTRAINT `tb_tag_ibfk_1` FOREIGN KEY (`TAG_TAU_ID`) REFERENCES `tb_tag_usuario` (`TAU_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_tag_ibfk_2` FOREIGN KEY (`TAG_TCH_ID`) REFERENCES `tb_tag_chat` (`TCH_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `tb_tema` (
  `TEM_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `TEM_TEU_ID` int(10) unsigned NOT NULL,
  `TEM_TEC_ID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`TEM_ID`),
  KEY `FK_TEC_TEM` (`TEM_TEC_ID`),
  KEY `FK_TEU_TEM` (`TEM_TEU_ID`),
  CONSTRAINT `tb_tema_ibfk_1` FOREIGN KEY (`TEM_TEC_ID`) REFERENCES `tb_tema_chat` (`TEC_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_tema_ibfk_2` FOREIGN KEY (`TEM_TEU_ID`) REFERENCES `tb_tema_usuario` (`TEU_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_usuario` (
  `USU_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `USU_CAT_ID` int(10) unsigned NOT NULL,
  `USU_PEN_ID` int(10) unsigned NOT NULL,
  `USU_SEX_ID` int(10) unsigned NOT NULL,
  `USU_LOGIN` varchar(40) DEFAULT NULL,
  `USU_CICLO` tinyint(3) unsigned NOT NULL,
  `USU_DESCRICAO` text,
  `USU_AVALIACAO` tinyint(3) unsigned zerofill NOT NULL,
  `USU_MEDALHAESTRELA` tinyint(3) unsigned zerofill DEFAULT NULL,
  `USU_MEDALHATEMA` tinyint(3) unsigned zerofill DEFAULT NULL,
  `USU_NOME` varchar(25) DEFAULT NULL,
  `USU_SENHA` varchar(20) NOT NULL,
  PRIMARY KEY (`USU_ID`),
  KEY `FK_SEX_USU` (`USU_SEX_ID`),
  KEY `FK_CAT_USU` (`USU_CAT_ID`),
  KEY `FK_PEN_USU` (`USU_PEN_ID`),
  CONSTRAINT `tb_usuario_ibfk_1` FOREIGN KEY (`USU_SEX_ID`) REFERENCES `tb_sexo` (`SEX_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_usuario_ibfk_2` FOREIGN KEY (`USU_CAT_ID`) REFERENCES `tb_categoria` (`CAT_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_usuario_ibfk_3` FOREIGN KEY (`USU_PEN_ID`) REFERENCES `tb_penalidade` (`PEN_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=45 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_comentario_posi` (
  `COM_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `COM_USU_ID` int(10) unsigned NOT NULL,
  `COM_TEXTO` text,
  PRIMARY KEY (`COM_ID`),
  KEY `FK_USU_COM` (`COM_USU_ID`),
  CONSTRAINT `tb_comentario_posi_ibfk_1` FOREIGN KEY (`COM_USU_ID`) REFERENCES `tb_usuario` (`USU_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `tb_def_tema` (
  `DTE_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `DTE_TEM_ID` int(10) unsigned NOT NULL,
  `DTE_CHA_ID` int(10) unsigned NOT NULL,
  `DTE_USU_ID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`DTE_ID`),
  KEY `FK_TEM_DTE` (`DTE_TEM_ID`),
  KEY `FK_CHA_DTE` (`DTE_CHA_ID`),
  KEY `FK_USU_DTE` (`DTE_USU_ID`),
  CONSTRAINT `tb_def_tema_ibfk_1` FOREIGN KEY (`DTE_TEM_ID`) REFERENCES `tb_tema` (`TEM_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_def_tema_ibfk_2` FOREIGN KEY (`DTE_CHA_ID`) REFERENCES `tb_chat` (`CHA_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_def_tema_ibfk_3` FOREIGN KEY (`DTE_USU_ID`) REFERENCES `tb_usuario` (`USU_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=189 DEFAULT CHARSET=latin1;

CREATE TABLE `tb_def_tag` (
  `DTA_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `DTA_USU_ID` int(10) unsigned NOT NULL,
  `DTA_CHA_ID` int(10) unsigned NOT NULL,
  `DTA_TAG_ID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`DTA_ID`),
  KEY `FK_TAG_DTA` (`DTA_TAG_ID`),
  KEY `FK_USU_DTA` (`DTA_USU_ID`),
  KEY `FK_CHA_DTA` (`DTA_CHA_ID`),
  CONSTRAINT `tb_def_tag_ibfk_1` FOREIGN KEY (`DTA_TAG_ID`) REFERENCES `tb_tag` (`TAG_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_def_tag_ibfk_2` FOREIGN KEY (`DTA_USU_ID`) REFERENCES `tb_usuario` (`USU_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `tb_def_tag_ibfk_3` FOREIGN KEY (`DTA_CHA_ID`) REFERENCES `tb_chat` (`CHA_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

insert into tb_penalidade(pen_nivel) values ('1');
insert into tb_categoria(cat_nome) values ('1');
insert into tb_sexo(sex_sigla) values ('1');

